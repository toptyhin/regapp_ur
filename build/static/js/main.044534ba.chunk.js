(this.webpackJsonpregapp=this.webpackJsonpregapp||[]).push([[0],{274:function(e,t,a){},276:function(e,t,a){},283:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(26),i=a.n(c),r=(a(274),a(275),a(276),a(93)),d=a(94),o=a(74),l=a(109),j=a(105),u=a(600),h=a(598),b=a(597),p=a(601),m=a(593),O=a(595),x=a(200),v=a(258),f=s.a.createContext({state:{},setaddress:function(){}}),g=a(14),k=(a(596),a(58)),y=a(1),C=(a(283),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.active,a=this.props.completed;return Object(y.jsx)("nav",{className:"sixteen wide column",children:Object(y.jsx)("div",{className:"steps_container",children:Object(y.jsxs)("div",{className:"steps",children:[Object(y.jsx)("div",{className:"step ".concat(1===t?"active":""," ").concat(t>1&&a?"completed":""),onClick:function(){e.props.onClick(1)},children:Object(y.jsxs)("span",{className:"breadcrumb__inner",children:[Object(y.jsx)("span",{className:"breadcrumb__title",children:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}),Object(y.jsx)("span",{className:"breadcrumb__desc",children:"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043f\u043e \u0418\u041d\u041d"})]})}),Object(y.jsx)("div",{className:"step ".concat(2===t?"active":""," ").concat(t>2&&a?"completed":""),onClick:function(){e.props.onClick(2)},children:Object(y.jsxs)("span",{className:"breadcrumb__inner",children:[Object(y.jsx)("span",{className:"breadcrumb__title",children:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"}),Object(y.jsx)("span",{className:"breadcrumb__desc",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]})}),Object(y.jsx)("div",{className:"step ".concat(3===t?"active":""," ").concat(t>3&&a?"completed":""),onClick:function(){e.props.onClick(3)},children:Object(y.jsx)("span",{className:"breadcrumb__inner",children:Object(y.jsx)("span",{className:"breadcrumb__title",children:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440"})})}),Object(y.jsx)("div",{className:"step ".concat(4===t?"active":""," ").concat(t>4?"completed":""),onClick:function(){e.props.onClick(4)},children:Object(y.jsx)("span",{className:"breadcrumb__inner",children:Object(y.jsx)("span",{className:"breadcrumb__title",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})})})]})})})}}]),a}(n.Component));a(61),a(594),new XMLHttpRequest;var S=function(e){return Object(y.jsx)("div",{className:"list",children:e.children()})},N=a(103),_=a(168),D=function(e){var t=new Array(e.numberItems),a=function(a){var n=a.target,s=n.dataset.num;return 8===a.keyCode&&0!==parseInt(s)?(n.previousElementSibling.focus(),void(t[s]=n.value)):n.value.match(/^\d{1}$/)?(1===n.value.length&&s<e.numberItems-1&&(t[s]=n.value,n.nextElementSibling.focus()),void(1===n.value.length&&parseInt(s)===e.numberItems-1&&(t[s]=n.value,t.filter((function(e){return e.match(/\d/)})).length===e.numberItems&&e.riseValue(t.join(""))))):parseInt(s)===e.numberItems-1?void(n.value=a.key):(n.value="",void(t[s]=n.value))};return Object(y.jsxs)("div",{className:"field",children:[Object(y.jsx)("label",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043f\u043e\u0434\u0434\u0442\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"}),Object(y.jsx)("div",{className:"ui ccode",children:Object(_.a)(Array(e.numberItems).keys()).map((function(e,t){return n={key:"cinp_"+t,id:t},Object(y.jsx)("input",{name:"confirmation[]","data-num":n.id,onKeyUp:a,type:"text"},n.key);var n}))})]})},I=(n.Component,a(591));var R=function(e){var t=Object(n.useState)(e.min?e.min:0),a=Object(g.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(g.a)(i,2),d=r[0],o=r[1],l=e.max?e.max:Number.POSITIVE_INFINITY,j=e.min?e.min:Number.NEGATIVE_INFINITY;e.preset>s&&(s=e.preset);var u=function(t){e.passVal(null,{name:e.name,value:t})},h=d?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c 5 \u043a\u0430\u0440\u0442":"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u0440\u0442";return Object(y.jsxs)("div",{className:"field flex",children:[Object(y.jsx)("label",{children:h}),Object(y.jsxs)(x.a.Group,{children:[Object(y.jsx)(x.a,{compact:!0,className:"darked",onClick:function(){var e=s-1>j?s-1:j;c(e),u(e),o(!1)},children:Object(y.jsx)(k.a,{name:"minus"})}),Object(y.jsx)(I.a,{value:s}),Object(y.jsx)(x.a,{compact:!0,className:"darked",onClick:function(){var e=s+1<l?s+1:l;c(e),u(e),s+1>l&&o(!0)},children:Object(y.jsx)(k.a,{name:"plus"})})]})]})},w=(a(284),a(603)),E=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(g.a)(i,2),d=r[0],o=r[1],l=Object(n.useState)(""),j=Object(g.a)(l,2),h=j[0],p=j[1],v=Object(n.useState)(""),f=Object(g.a)(v,2),C=f[0],S=f[1],D=Object(n.useState)(!1),I=Object(g.a)(D,2),R=I[0],E=I[1],F=Object(n.useState)([]),A=Object(g.a)(F,2),L=A[0],T=A[1],V=function(e){var t={cardnum:e},a={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)};return fetch("https://data.inforkom.ru/api/v1/util/contract/validateCard",a)},G=d?h:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b :",z=d||!R;return Object(y.jsxs)(u.a,{children:[Object(y.jsx)(w.a,{label:"\u0423 \u043c\u0435\u043d\u044f \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0442\u043e\u043f\u043b\u0438\u0432\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b \u0418\u043d\u0444\u043e\u0440\u043a\u043e\u043c",onChange:function(e,t){c(t.checked)}}),Object(y.jsx)(O.a,{visible:s,animation:"fade",duration:500,unmountOnHide:!0,children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(m.a.Field,{className:d?"error cardsList":"cardsList",children:[Object(y.jsx)("label",{children:G}),Object(y.jsxs)("div",{className:"mask_action",children:[Object(y.jsx)(N.a,{name:"validate num",mask:[{mask:"0000 0000 0000 0000"},{mask:"000000 00000000 00000"}],unmask:!0,placeholder:"0000 0000 0000 0000 / 000",onAccept:function(e,t){return a=t,void(d?(o(!1),E(!1)):(a._value.length<C.length||""===a._value)&&E(!1));var a},onComplete:function(e,t){return function(e,t){try{V(e).then((function(e){return e.json()})).then((function(e){"ok"===e.status&&-1===L.indexOf(t._value)?(E(!0),o(!1),S(t._value)):-1!==L.indexOf(t._value)?(o(!0),p(" \u0412\u044b \u0443\u0436\u0435 \u0432\u0432\u0435\u043b\u0438 \u044d\u0442\u0443 \u043a\u0430\u0440\u0442\u0443")):(o(!0),p("\u041d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b"))}))}catch(a){o(!0),p("\u041d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u043a\u0443")}}(e,t)}}),Object(y.jsx)(x.a,{icon:!0,color:d||!R?"grey":"olive",disabled:z,onClick:function(){if(""!==C&&R&&-1===L.indexOf(C)){var t=Object(_.a)(L);t.push(C),e.passValue(t),T(t)}},children:Object(y.jsx)(k.a,{name:"add"})})]})]}),Object(y.jsx)(O.a.Group,{as:b.a,duration:200,divided:!0,size:"medium",verticalAlign:"middle",children:L.map((function(t){return Object(y.jsx)(b.a.Item,{className:"tini_border",children:Object(y.jsxs)(b.a.Content,{className:"flex",children:[t,Object(y.jsx)(k.a,{color:"red",size:"small",name:"close",onClick:function(){return function(t){var a=L.filter((function(e){return e!==t}));T(a),e.passValue(a)}(t)}})]})},t)}))})]})})]})},F=a(261),A=a.n(F),L=function(e){var t=e.label,a=e.placeholder,s=e.value,c=e.passBlurEvent,i=void 0!==c&&c,r=e.change,d=e.validator,o=void 0!==d&&d,l=e.error_message,j=void 0===l?"\u041f\u043e\u043b\u0435 \u043d\u0435\u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e":l,b=Object(n.useState)(!1),p=Object(g.a)(b,2),O=p[0],x=p[1],v=Object(n.useState)(!1),f=Object(g.a)(v,2),k=f[0],C=f[1],S=Object(n.useState)(!!s),N=Object(g.a)(S,2),_=N[0],D=N[1],I=Object(n.useState)(s),R=Object(g.a)(I,2),w=R[0],E=R[1];return Object(y.jsx)(u.a,{color:O?"blue":_?"green":k?"red":"grey",children:Object(y.jsxs)(m.a.Field,{error:k,children:[Object(y.jsx)("label",{children:t}),k?Object(y.jsx)(h.a,{color:"orange",header:"\u041e\u0448\u0438\u0431\u043a\u0430",content:j}):null,Object(y.jsx)("input",{placeholder:a,value:w,onFocus:x,onBlur:function(e){x(!1),o?o(e.target.value)?(C(!1),D(!0)):C(!0):e.target.value?(C(!1),D(!0)):C(!0),i&&i()},onChange:function(e){r(e.target.value),E(e.target.value)}})]})})},T=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)({address:"",bik:"",inn:"",name:"",corr:"",account:""}),r=Object(g.a)(i,2),d=r[0],o=r[1],l=Object(n.useState)(""),j=Object(g.a)(l,2),h=(j[0],j[1],Object(n.useState)(!1)),b=Object(g.a)(h,2),p=(b[0],b[1],Object(n.useState)("")),x=Object(g.a)(p,2),v=(x[0],x[1],function(t,a){e.passData(t,a)});return Object(y.jsxs)(u.a.Group,{children:[Object(y.jsx)(u.a,{children:e.dadata.name}),Object(y.jsxs)(u.a.Group,{children:[Object(y.jsxs)(u.a.Group,{horizontal:!0,children:[Object(y.jsx)(L,{label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442 \u0424\u0418\u041e",placeholder:"\u0424\u0418\u041e",value:e.dadata.management&&e.dadata.management.name?e.dadata.management.name:"",change:function(e){return v("fio",e)}}),Object(y.jsx)(L,{label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442 \u0424\u0418\u041e \u0432 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u0430\u0434\u0435\u0436\u0435",placeholder:"\u0424\u0418\u041e \u0440.\u043f.",value:"",change:function(e){return v("fioi",e)}})]}),Object(y.jsxs)(u.a.Group,{horizontal:!0,children:[Object(y.jsx)(L,{label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",placeholder:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",value:"",change:function(e){v("position",e)}}),Object(y.jsx)(L,{label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0432 \u0440.\u043f.",placeholder:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0432 \u0440.\u043f.",value:"",change:function(e){return v("positiona",e)}})]}),Object(y.jsxs)(u.a.Group,{horizontal:!0,children:[Object(y.jsx)(L,{label:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435",placeholder:"\u0423\u0441\u0442\u0430\u0432 / \u0414\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043e\u0442 00.00.2021",value:"",change:function(e){return v("based",e)}}),Object(y.jsx)(L,{label:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0440.\u043f.",placeholder:"\u0423\u0441\u0442\u0430\u0432\u0430 / \u0414\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u043e\u0442 00.00.2021",value:"",change:function(e){return v("baseda",e)}})]}),Object(y.jsxs)(u.a.Group,{horizontal:!0,children:[Object(y.jsx)(L,{label:"\u0418\u041d\u041d",placeholder:"\u0418\u041d\u041d",value:e.dadata.inn,change:function(e){return v("inn",e)}}),Object(y.jsx)(L,{label:"\u041a\u041f\u041f",placeholder:"\u041a\u041f\u041f",value:e.dadata.kpp,change:function(e){return v("kpp",e)}})]}),Object(y.jsxs)(u.a.Group,{horizontal:!0,children:[Object(y.jsx)(L,{label:"\u041e\u0413\u0420\u041d",placeholder:"\u041e\u0413\u0420\u041d",value:e.dadata.ogrn,change:function(e){return v("ogrn",e)}}),Object(y.jsx)(L,{label:"\u041e\u041a\u041f\u041e",placeholder:"\u041e\u041a\u041f\u041e",value:e.dadata.okpo,change:function(e){return v("okpo",e)}}),Object(y.jsx)(L,{label:"\u041e\u041a\u0412\u042d\u0414",placeholder:"\u041e\u041a\u0412\u042d\u0414",value:e.dadata.okved,change:function(e){return v("okved",e)}})]}),Object(y.jsx)(u.a,{children:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b"}),Object(y.jsx)(u.a,{children:Object(y.jsxs)(m.a.Field,{children:[Object(y.jsx)("label",{children:s?"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430":"\u0411\u0418\u041a \u0411\u0430\u043d\u043a\u0430"}),Object(y.jsx)(A.a,{token:"a677c0dcff5cd2767c0aa85a6793f5430a3be34a",type:"bank",placeholder:"\u0411\u0418\u041a",onChange:function(e){o({address:e.data.address?e.data.address.value:"",bik:e.data.bic?e.data.bic:"",inn:e.data.inn?e.data.inn:"",name:e.data.name?e.data.name.payment:"",corr:e.data.correspondent_account?e.data.correspondent_account:"",account:""}),c(e.value||""),v("bank",e.data.name?e.data.name.payment:""),v("bik",e.data.bic?e.data.bic:""),v("ks",e.data.correspondent_account?e.data.correspondent_account:""),v("baddress",e.data.address?e.data.address.value:"")}})]})}),s&&Object(y.jsx)(O.a,{transitionOnMount:!0,duration:800,visible:!!s,children:Object(y.jsx)(u.a,{children:Object(y.jsxs)(u.a.Group,{children:[Object(y.jsx)(u.a,{children:Object(y.jsxs)(m.a.Field,{children:[Object(y.jsx)("label",{children:"\u0410\u0434\u0440\u0435\u0441"}),Object(y.jsx)("input",{disabled:!0,value:d.address})]})}),Object(y.jsxs)(u.a.Group,{horizontal:!0,children:[Object(y.jsx)(u.a,{children:Object(y.jsxs)(m.a.Field,{children:[Object(y.jsx)("label",{children:"\u0411\u0418\u041a"}),Object(y.jsx)("input",{disabled:!0,value:d.bik})]})}),Object(y.jsx)(u.a,{children:Object(y.jsxs)(m.a.Field,{children:[Object(y.jsx)("label",{children:"\u043a/\u0441"}),Object(y.jsx)("input",{disabled:!0,value:d.corr})]})})]}),Object(y.jsx)(L,{label:"\u0420\u0430\u0441\u0447\u0435\u0442\u043d\u044b\u0439 \u0441\u0447\u0435\u0442",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0440\u0430\u0441\u0447\u0435\u0442\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430",error_message:"\u0412 \u043d\u043e\u043c\u0435\u0440\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c 20 \u0446\u0438\u0444\u0440",value:"",change:function(e){return v("rs",(t=e).match(/^\d{20}$/)?t:"");var t},validator:function(e){return!!e.match(/^\d{20}$/)}})]})})})]})]})},V=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).setValue=function(e,t){var a={};a[t.name]=t.value,n.setState(a)},n.setUnmaskedValue=function(e,t){var a={};a[t]=e,n.setState(a)},n.isNewContract=function(){var e={};n.state.foundData&&n.state.dadata.inn&&(e.inn=n.state.dadata.inn),n.state.foundData&&n.state.dadata.kpp&&(e.kpp=n.state.dadata.kpp);var t={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)};return fetch("https://data.inforkom.ru/api/v1/util/contract/checkInn",t)},n.setCompanyDetails=function(e,t){var a=n.state,s=a.companyDetails;a.other;s[e]=t,n.setState({companyDetails:s})},n.\u0441ompanyDetailsComplete=function(){for(var e=n.state,t=e.companyDetails,a=(e.other,0),s=["fio","fioi","position","positiona","based","baseda","ogrn","bank","bik","ks","rs","baddress"];a<s.length;a++){var c=s[a];if(!t[c]||""===t[c])return!1}return!0},n.state={agree:!1,dadataSearchValue:"",step:1,foundData:!1,datalist:!1,phone:void 0,email:void 0,confirmation:"",pendingConfirmation:!1,contactConfirmed:!1,validInput:!1,dadata:{},error:{mailInput:!1,telInput:!1},cardsNum:1,cardsList:[],address:{},contractReady:!1,contractError:"",lkData:{},innExists:!1,processingRequest:!1,contractno:0,companyDetails:{},docoptions:[{key:"dd",value:"dd",text:"\u041a\u043e\u043d\u0442\u0443\u0440 \u0414\u0438\u0430\u0434\u043e\u043a"},{key:"tz",value:"tz",text:"\u0422\u0415\u0417\u0418\u0421"},{key:"log",value:"log",text:"\u041b\u043e\u0433\u0438\u043a\u0430 \u0421\u042d\u0414"},{key:"oth",value:"oth",text:"\u0414\u0440\u0443\u0433\u0430\u044f",active:!0}]},n.searchResults=[],n.confirmContract=n.confirmContract.bind(Object(o.a)(n)),n.getContract=n.getContract.bind(Object(o.a)(n)),n.setCompanyDetails=n.setCompanyDetails.bind(Object(o.a)(n)),n.components={foo:u.a,Message:h.a},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.agree,n=(t.pendingConfirmation,t.contactConfirmed,t.step),s=t.foundData,c=t.datalist,i=(t.email,t.phone),r=(t.validInput,t.innExists),d=t.processingRequest,o=t.cardsNum,l=t.docoptions,j=t.companyDetails,g={state:this.state,setAddress:function(t){e.setState({address:t})}},k=!0;a&&void 0!==i&&""!==i&&""!==j.docsystem&&(k=!1);var S=Object(y.jsx)(u.a,{children:Object(y.jsx)("h2",{children:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"})});this.state.contractReady&&""===this.state.contractError&&(S=Object(y.jsxs)(u.a,{children:[Object(y.jsx)(h.a,{header:"\u0428\u0410\u0413 4",positive:!0,attached:!0,content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0442\u043e\u043f\u043b\u0438\u0432\u043d\u044b\u0445 \u043a\u0430\u0440\u0442 \u0418\u041d\u0424\u041e\u0420\u041a\u041e\u041c"}),Object(y.jsxs)(b.a,{className:"userdata",children:[Object(y.jsx)(b.a.Item,{children:Object(y.jsx)(b.a.Header,{children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})}),Object(y.jsx)(b.a.Item,{children:Object(y.jsxs)(b.a.Description,{children:["\u0410\u0434\u0440\u0435\u0441 - ",Object(y.jsx)("a",{href:this.state.lkData.link,children:this.state.lkData.link})]})}),Object(y.jsx)(b.a.Item,{children:Object(y.jsxs)(b.a.Description,{children:["\u041b\u043e\u0433\u0438\u043d - ",this.state.lkData.login]})}),Object(y.jsx)(b.a.Item,{children:Object(y.jsxs)(b.a.Description,{children:["\u041f\u0430\u0440\u043e\u043b\u044c - ",this.state.lkData.password]})}),Object(y.jsx)(b.a.Item,{children:Object(y.jsx)(b.a.Header,{children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"})}),Object(y.jsx)(b.a.Item,{children:Object(y.jsx)(b.a.Description,{children:Object(y.jsx)("span",{onClick:this.getContract,children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u043e\u0433\u043e\u0432\u043e\u0440"})})})]})]})),this.state.contractReady&&""!==this.state.contractError&&(S=Object(y.jsx)(u.a,{children:Object(y.jsx)(h.a,{header:"\u0428\u0410\u0413 4",negative:!0,attached:!0,content:this.state.contractError})}));o>this.state.cardsList.length&&this.setValue.bind(this);return Object(y.jsxs)(p.a,{children:[Object(y.jsx)(p.a.Row,{children:Object(y.jsx)(C,{active:n,onClick:this.setStep.bind(this),completed:s})}),Object(y.jsx)(p.a.Row,{children:Object(y.jsx)(p.a.Column,{width:16,children:Object(y.jsx)(f.Provider,{value:g,children:Object(y.jsxs)(m.a,{children:[1===n&&Object(y.jsx)(O.a,{transitionOnMount:!0,animation:"fly left",duration:500,children:Object(y.jsxs)(u.a,{raised:!0,children:[Object(y.jsx)(h.a,{header:"\u0428\u0410\u0413 1",content:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0418\u041d\u041d \u043a\u043e\u043c\u043f\u0430\u0438\u0438 \u0438\u043b\u0438 \u0418\u041f"}),Object(y.jsx)(m.a.Input,{action:{content:"\u041d\u0430\u0439\u0442\u0438",onClick:function(){return e.askDadata()}},label:"\u0418\u041d\u041d",name:"dadataSearchValue",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0418\u041d\u041d",onChange:function(t){""===t.target.value?e.setState({dadata:{},innExists:!1,foundData:!1,dadataSearchValue:!1}):e.setState({dadataSearchValue:t.target.value.replace(/\s/g,"")})}}),Object(y.jsx)(O.a,{visible:r,animation:"fade",duration:500,children:Object(y.jsx)(h.a,{negative:!0,content:"\u0423 \u043d\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0434\u043e\u0433\u043e\u0432\u043e\u0440 \u0441 \u044d\u0442\u0438\u043c \u044e\u0440.\u043b\u0438\u0446\u043e\u043c"})}),Object(y.jsx)(O.a,{visible:(s||c)&&1===n,animation:"fade",duration:500,children:Object(y.jsxs)(u.a,{children:[this.renderDadata(),Object(y.jsx)(x.a,{fluid:!0,loading:d,color:"orange",disabled:!s||r,onClick:function(){e.setState({processingRequest:!0}),e.isNewContract().then((function(e){return e.json()})).then((function(t){switch(e.setState({processingRequest:!1}),t.status){case"OK":e.setState({innExists:!1}),e.setStep(2);break;case"WARNING":e.setState({innExists:!0});break;default:e.setState({innExists:!0})}}))},children:"\u0412\u0441\u0435 \u0432\u0435\u0440\u043d\u043e"})]})})]})}),2===n&&Object(y.jsx)(O.a,{transitionOnMount:!0,animation:"fly left",duration:500,children:Object(y.jsxs)(u.a,{raised:!0,disabled:!s,children:[Object(y.jsx)(h.a,{header:"\u0428\u0410\u0413 2",content:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"}),Object(y.jsx)(T,{dadata:this.state.dadata,passData:this.setCompanyDetails}),Object(y.jsx)(x.a,{fluid:!0,color:"orange",disabled:!this.\u0441ompanyDetailsComplete(),onClick:function(){return e.setStep(3)},children:"OK"})]})}),3===n&&Object(y.jsx)(O.a,{transitionOnMount:!0,animation:"fly left",duration:500,children:Object(y.jsxs)(u.a,{raised:!0,disabled:!this.\u0441ompanyDetailsComplete(),children:[Object(y.jsx)(h.a,{header:"\u0428\u0410\u0413 3",attached:!0,content:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0442\u043e\u043f\u043b\u0438\u0432\u043d\u044b\u043c \u043a\u0430\u0440\u0442\u0430\u043c"}),Object(y.jsxs)(u.a,{children:[Object(y.jsx)(E,{passValue:function(t){return e.setState({cardsList:t,cardsNum:t.length>o?t.length:o})}}),Object(y.jsx)(R,{name:"cardsNum",min:1,max:5,preset:this.state.cardsList.length,passVal:this.setValue.bind(this)}),Object(y.jsx)(m.a.Select,{fluid:!0,label:"C\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u043e\u0431\u043e\u0440\u043e\u0442\u0430",options:l,onChange:function(t,a){a.key;var n=a.value,s=l.map((function(t){return t.active=t.value===n,t.active&&e.setCompanyDetails("docsystem","oth"===t.value?"":t.text),t}));e.setState({docoptions:s})}}),Object(y.jsx)(O.a,{visible:"oth"===l.filter((function(e){return!!e.active}))[0].value,animation:"scale",duration:500,children:Object(y.jsx)(m.a.Input,{fluid:!0,label:"\u0414\u0440\u0443\u0433\u0430\u044f:",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044d\u0442\u043e \u0447\u0443\u0434\u043e",value:j.docsystem?j.docsystem:"",onChange:function(t,a){a.name;var n=a.value;e.setCompanyDetails("docsystem",n)}})}),Object(y.jsxs)(m.a.Field,{children:[Object(y.jsxs)("label",{children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",Object(y.jsx)("span",{class:"required",children:"*"})]}),Object(y.jsx)(N.a,{name:"contact_phone",mask:"+{7} 000 000-00-00",unmask:!0,placeholder:"+7 999 999-99-99",onComplete:function(t){e.setState({phone:t})}})]}),Object(y.jsx)(m.a.Checkbox,{label:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u043d\u0435\u0441\u0435\u043d\u044b \u0432\u0435\u0440\u043d\u043e",defaultChecked:!1,onChange:function(t){var a=t.target.parentElement.querySelector("input").checked;e.setState({agree:!a})}}),Object(y.jsx)(v.a,{fluid:!0,children:Object(y.jsx)(x.a,{disabled:k,color:k?"grey":"orange",onClick:this.confirmContract,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})})]})]})}),4===n&&Object(y.jsx)(O.a,{transitionOnMount:!0,animation:"fly left",duration:500,children:S})]})})})})]})}},{key:"setStep",value:function(e){this.setState({step:e})}},{key:"askDadata",value:function(e){var t=this,a=this.state.dadataSearchValue;if(a){var n={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token a677c0dcff5cd2767c0aa85a6793f5430a3be34a"},body:JSON.stringify({query:a})};fetch("https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party",n).then((function(e){return e.text()})).then((function(e){t.searchResults=JSON.parse(e).suggestions,t.searchResults.length?1===t.searchResults.length?t.setFoundCompany(t.searchResults[0],!0):t.setFoundCompany(t.searchResults,!1):t.setState({foundData:!1})}))}}},{key:"setFoundCompany",value:function(e,t){if(Array.isArray(e)){var a=[],n=e.filter((function(e){return"MAIN"===e.data.branch_type}));e.map((function(e){a.push({name:e.value,name_list:e.data.name,address:e.data.address.unrestricted_value,address_obj:e.data.address.data,inn:e.data.inn,kpp:e.data.kpp,ogrn:e.data.ogrn,okpo:n[0].data.okpo?n[0].data.okpo:e.data.okpo,okved:n[0].data.okved?n[0].data.okved:e.data.okved,management:e.data.management,type:e.data.type})})),this.setState({datalist:!0,dadata:a})}else{var s=this.state,c=s.companyDetails;s.other;c.fio=e.data?e.data.ogrn:e.ogrn,c.ogrn=e.data?e.data.ogrn:e.ogrn,c.okpo=e.data?e.data.okpo:e.okpo,c.okved=e.data?e.data.okpo:e.okpo,e.data&&e.data.management&&(c.fio=e.data.management.name?e.data.management.name:""),this.setState({foundData:t,dadata:{name:e.value?e.value:e.name,name_list:e.data?e.data.name:e.name_list,address:e.data?e.data.address.unrestricted_value:e.address,address_obj:e.data?e.data.address.data:e.address_obj,inn:e.data?e.data.inn:e.inn,kpp:e.data?e.data.kpp:e.kpp,ogrn:e.data?e.data.ogrn:e.ogrn,okpo:e.data?e.data.okpo:e.okpo,okved:e.data?e.data.okved:e.okved,management:e.data?e.data.management:e.management,type:e.data?e.data.type:e.type}})}}},{key:"renderDadata",value:function(){var e=this;if(Array.isArray(this.state.dadata))return Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"\u041a\u0430\u043a\u043e\u0439 \u0438\u043c\u0435\u043d\u043d\u043e \u0444\u0438\u043b\u0438\u0430\u043b:"}),Object(y.jsx)(S,{children:function(){return e.state.dadata.map((function(t,a){return Object(y.jsxs)("div",{className:"item",onClick:function(){e.setFoundCompany(t,!0)},children:[Object(y.jsx)("span",{className:"name",children:t.name}),Object(y.jsxs)("span",{className:"code",children:["\u0418\u041d\u041d ",t.inn]}),Object(y.jsx)("span",{className:"address",children:t.address})]},"comp"+a)}))}})]});if(!Object.keys(this.state.dadata).length)return null;var t=this.state.dadata.kpp?Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"\u041a\u041f\u041f: "})," ",this.state.dadata.kpp]},"kpp"):"";return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("p",{children:Object(y.jsxs)("b",{children:[" ",this.state.dadata.name]})},"name"),Object(y.jsxs)("p",{children:[" ",this.state.dadata.address]},"address"),Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"\u0418\u041d\u041d: "})," ",this.state.dadata.inn]},"inn"),t,Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"\u041e\u0413\u0420\u041d: "})," ",this.state.dadata.ogrn]},"ogrn")]})}},{key:"getContract",value:function(){var e={email:this.state.email?this.state.email:"",phone:this.state.phone?this.state.phone:"",docno:this.state.lkData.docno,docdate:this.state.lkData.docdate,delivery_address:this.state.address,cardsNum:this.state.cardsNum,cardsList:this.state.cardsList.map((function(e){return e.replace(/\s/g,"")})),org:this.state.dadata,details:this.state.companyDetails},t={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)};fetch("https://data.inforkom.ru/api/v1/util/contract/document",t).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="contract.docx",document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(t)}))}},{key:"confirmContract",value:function(){var e=this,t={email:this.state.email?this.state.email:"",phone:this.state.phone?this.state.phone:"",delivery_address:this.state.address,cardsNum:this.state.cardsNum,cardsList:this.state.cardsList.map((function(e){return e.replace(/\s/g,"")})),org:this.state.dadata,details:this.state.companyDetails},a={method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)};fetch("https://data.inforkom.ru/api/v1/util/contract/confirm",a).then((function(e){return e.json()})).then((function(t){"ok"===t.status&&(e.setState({contractReady:!0,contractError:t.error,lkData:{login:t.login,password:t.password,link:t.link,docno:t.docno,docdate:t.docdate,cid:t.cid}}),e.setStep(4))}))}}]),a}(n.Component),G=a(592);var z=function(){return Object(y.jsx)(G.a,{children:Object(y.jsx)(p.a,{children:Object(y.jsx)(p.a.Row,{children:Object(y.jsx)(V,{})})})})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,604)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};i.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(z,{})}),document.getElementById("root")),M()}},[[581,1,2]]]);
//# sourceMappingURL=main.044534ba.chunk.js.map